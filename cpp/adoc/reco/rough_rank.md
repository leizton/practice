传统流程: 策略召回 10000 -> 过滤 1000 -> ctr/item时效/item质量等简单比较的粗排 200
         -> 模型精排 100 -> 简单调序 20
         -> 合并各策略 200 -> 模型重排 100
         -> 多样性调序 10

新粗排流程: 策略召回过滤 1000 -> 合并各策略 5000
           -> 模型粗排 300 -> 模型重排(多目标dnn) 100
           -> 多样性调序 10

粗排模型和精排模型是结构相似的深度模型
区别是: ①粗排的item数量远大于精排; ②质量上比精排差, 因为item向量是离线计算, 虽然质量差但排序结果和精排基本一致
粗排靠着数量优势, 效果好于精排, 这就像题海战术有利于提高集体的平均分

粗排算user向量和item向量是两条线
  user向量: getUserInfo -> extractUserFea -> user_embed
  item向量: 离线计算, 每20分钟训练一批
粗排时算user_embed和item_embed的匹配分, 算匹配分可能是简单的线性网络
算user_embed的过程和召回过滤可以并行, 这样处理时间又缩短了一些

精排是实时提取user和item的动静态特征, 然后给模型算分
精排模型并不是双塔模型, user和item的特征会混合在一起训练